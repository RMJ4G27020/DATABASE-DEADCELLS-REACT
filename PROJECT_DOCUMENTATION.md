# Game Tier List Manager - Documentaci√≥n del Proyecto

**Aplicaci√≥n Web Full-Stack para Gesti√≥n de Tier Lists de Videojuegos**

---

## 1. üéØ Objetivo Principal de la Aplicaci√≥n

El **Game Tier List Manager** es una aplicaci√≥n web dise√±ada para permitir a los usuarios crear, gestionar y visualizar listas de ranking (tier lists) de elementos de videojuegos de manera estructurada y profesional.

### Prop√≥sito
Proporcionar una plataforma interactiva donde los usuarios puedan:
- Crear tier lists personalizadas para diferentes videojuegos
- Rankear items (armas, personajes, habilidades, etc.) en categor√≠as S, A, B, C, D
- Compartir y visualizar tier lists p√∫blicas de la comunidad
- Gestionar cat√°logos de juegos y sus elementos de forma estructurada

### Objetivos T√©cnicos
Esta aplicaci√≥n est√° dise√±ada para demostrar habilidades profesionales de desarrollo full-stack:
- ‚úÖ Dise√±o y normalizaci√≥n de bases de datos (3NF)
- ‚úÖ Desarrollo de APIs REST robustas con validaciones completas
- ‚úÖ Creaci√≥n de interfaces modernas con React y TypeScript
- ‚úÖ Testing automatizado con cobertura integral
- ‚úÖ Integraci√≥n frontend-backend con manejo apropiado de estados

---

## 2. üë• Usuarios de la Aplicaci√≥n

### P√∫blico Objetivo

#### 1. **Gamers y Entusiastas de Videojuegos**
- Jugadores que desean crear y compartir sus opiniones sobre elementos de juegos
- Usuarios que buscan comparar diferentes items/personajes de forma visual
- Personas interesadas en debates sobre meta-game y balance

#### 2. **Comunidades Gaming**
- Grupos de jugadores que necesitan organizar discusiones sobre estrategias
- Clanes o equipos que requieren herramientas para analizar opciones de juego
- Foros y comunidades que generan contenido colaborativo

#### 3. **Creadores de Contenido**
- Streamers que producen contenido de tier lists para sus audiencias
- YouTubers especializados en an√°lisis de juegos
- Influencers gaming que buscan herramientas profesionales

#### 4. **Desarrolladores de Juegos**
- Estudios interesados en feedback de la comunidad sobre balance
- Dise√±adores que buscan entender percepciones sobre elementos del juego
- Community managers que necesitan insights de los jugadores

### Tipos de Usuarios del Sistema

- **Usuarios Registrados**: Pueden crear, editar y eliminar sus propias tier lists
- **Administradores**: Tienen permisos completos sobre juegos, items y tier lists del sistema
- **Visitantes** (funcionalidad futura): Podr√°n visualizar tier lists p√∫blicas sin necesidad de registro

---

## 3. üîê Roles y Permisos del Sistema

El sistema implementa un modelo de Control de Acceso Basado en Roles (RBAC) con dos niveles:

### Rol 1: Usuario Est√°ndar (`role: 'user'`)

#### Permisos Otorgados
| Permiso | Descripci√≥n |
|---------|-------------|
| ‚úÖ Crear tier lists | Puede crear nuevas tier lists asociadas a su cuenta |
| ‚úÖ Editar tier lists propias | Modificar t√≠tulo, descripci√≥n y visibilidad de sus listas |
| ‚úÖ Eliminar tier lists propias | Borrar tier lists que le pertenecen |
| ‚úÖ Agregar items a tier lists | Asociar items del cat√°logo a sus tier lists |
| ‚úÖ Modificar rankings | Cambiar el rank (S/A/B/C/D) de items en sus listas |
| ‚úÖ Remover items | Eliminar items de sus tier lists |
| ‚úÖ Ver tier lists p√∫blicas | Acceder a tier lists marcadas como p√∫blicas |
| ‚úÖ Consultar cat√°logos | Ver juegos e items disponibles en el sistema |

#### Restricciones
| Restricci√≥n | Raz√≥n |
|-------------|-------|
| ‚ùå No puede crear juegos | Requiere permisos de administrador |
| ‚ùå No puede crear items | Requiere permisos de administrador |
| ‚ùå No puede editar tier lists ajenas | Solo propietario puede modificar |
| ‚ùå No puede eliminar tier lists de otros | Solo propietario puede eliminar |
| ‚ùå No puede modificar datos de usuarios | Seguridad del sistema |

### Rol 2: Administrador (`role: 'admin'`)

#### Permisos Completos
| Permiso | Descripci√≥n |
|---------|-------------|
| ‚úÖ **Hereda permisos de usuario** | Todos los permisos de usuario est√°ndar |
| ‚úÖ Gestionar cat√°logo de juegos | Crear, editar, eliminar juegos |
| ‚úÖ Gestionar cat√°logo de items | Crear, editar, eliminar items |
| ‚úÖ Administrar usuarios | Ver, crear, modificar, eliminar usuarios |
| ‚úÖ Moderar tier lists | Editar/eliminar tier lists de cualquier usuario |
| ‚úÖ Acceso total al sistema | Sin restricciones de permisos |

### Implementaci√≥n T√©cnica

```javascript
// Modelo de datos User
{
  id: INTEGER PRIMARY KEY,
  username: STRING UNIQUE NOT NULL,
  email: STRING UNIQUE NOT NULL,
  passwordHash: STRING NOT NULL,
  role: ENUM('user', 'admin') DEFAULT 'user',
  createdAt: TIMESTAMP,
  updatedAt: TIMESTAMP
}
```

### Casos de Uso por Rol

**Usuario Est√°ndar:**
```
1. Registro en el sistema con email/password
2. Explorar cat√°logo de juegos e items
3. Crear tier list para "League of Legends"
4. Agregar items (campeones) con sus respectivos ranks
5. Compartir tier list como p√∫blica
```

**Administrador:**
```
1. Agregar nuevo juego "Valorant" al cat√°logo
2. Crear items (agentes) para ese juego
3. Moderar tier lists reportadas por usuarios
4. Eliminar tier lists con contenido inapropiado
5. Gestionar cuentas de usuarios
```

---

## 4. ‚öôÔ∏è Funcionalidades Esenciales

### 4.1 Gesti√≥n de Juegos

**Descripci√≥n:** Sistema para administrar el cat√°logo de videojuegos disponibles en la plataforma.

**Operaciones CRUD:**
- **CREATE**: Agregar nuevo juego con nombre y descripci√≥n
- **READ**: Listar todos los juegos del cat√°logo
- **UPDATE**: Editar informaci√≥n de juegos existentes
- **DELETE**: Eliminar juegos del sistema

**Endpoint API:** `/api/games`

**M√©todos HTTP:**
```http
GET    /api/games          # Obtener todos los juegos
POST   /api/games          # Crear nuevo juego
PUT    /api/games/:id      # Actualizar juego
DELETE /api/games/:id      # Eliminar juego
```

**Validaciones:**
- ‚úÖ Campo `name` es obligatorio
- ‚úÖ `id` debe existir para operaciones UPDATE/DELETE

---

### 4.2 Gesti√≥n de Items

**Descripci√≥n:** Sistema para administrar elementos rankeables (armas, personajes, habilidades, etc.).

**Operaciones CRUD:**
- **CREATE**: Agregar nuevo item con nombre, descripci√≥n e imagen
- **READ**: Listar todos los items disponibles
- **UPDATE**: Modificar informaci√≥n de items existentes
- **DELETE**: Eliminar items del cat√°logo

**Endpoint API:** `/api/items`

**M√©todos HTTP:**
```http
GET    /api/items          # Obtener todos los items
POST   /api/items          # Crear nuevo item
PUT    /api/items/:id      # Actualizar item
DELETE /api/items/:id      # Eliminar item
```

**Validaciones:**
- ‚úÖ Campo `name` es obligatorio
- ‚úÖ Campo `imageUrl` opcional (debe ser URL v√°lida si se proporciona)
- ‚úÖ `id` debe existir para operaciones UPDATE/DELETE

---

### 4.3 Gesti√≥n de Tier Lists

**Descripci√≥n:** Sistema principal para crear y administrar listas de ranking.

**Operaciones CRUD:**
- **CREATE**: Crear tier list asociada a un juego y usuario
- **READ**: Listar tier lists con informaci√≥n de relaciones
- **UPDATE**: Modificar t√≠tulo, descripci√≥n y visibilidad
- **DELETE**: Eliminar tier lists

**Endpoint API:** `/api/tierlists`

**M√©todos HTTP:**
```http
GET    /api/tierlists          # Obtener todas las tier lists
POST   /api/tierlists          # Crear nueva tier list
PUT    /api/tierlists/:id      # Actualizar tier list
DELETE /api/tierlists/:id      # Eliminar tier list
```

**Campos:**
- `title`: T√≠tulo descriptivo de la tier list
- `description`: Descripci√≥n opcional
- `isPublic`: Visibilidad (p√∫blico/privado)
- `userId`: ID del usuario propietario
- `gameId`: ID del juego asociado

**Validaciones:**
- ‚úÖ Campos `title`, `userId`, `gameId` son obligatorios
- ‚úÖ `userId` debe referenciar un usuario existente
- ‚úÖ `gameId` debe referenciar un juego existente
- ‚úÖ Solo el propietario puede editar/eliminar

---

### 4.4 Gesti√≥n de Rankings (Tier List Items)

**Descripci√≥n:** Sistema para asociar items a tier lists con ranks espec√≠ficos.

**Operaciones CRUD:**
- **CREATE**: Agregar item a tier list con rank (S/A/B/C/D)
- **READ**: Listar items de una tier list con ordenamiento
- **UPDATE**: Cambiar rank o posici√≥n de un item
- **DELETE**: Remover item de tier list

**Endpoint API:** `/api/tierlists/:tierListId/items`

**M√©todos HTTP:**
```http
GET    /api/tierlists/:tierListId/items       # Obtener items de tier list
POST   /api/tierlists/:tierListId/items       # Agregar item
PUT    /api/tierlists/:tierListId/items/:id   # Actualizar rank/posici√≥n
DELETE /api/tierlists/:tierListId/items/:id   # Eliminar item
```

**Campos:**
- `itemId`: ID del item a agregar
- `rank`: Categor√≠a de ranking (S, A, B, C, D)
- `position`: Posici√≥n dentro del rank

**Validaciones Implementadas:**
- ‚úÖ Campos `itemId` y `rank` son obligatorios
- ‚úÖ `rank` debe ser uno de: S, A, B, C, D
- ‚úÖ `tierListId` debe referenciar una tier list existente
- ‚úÖ `itemId` debe referenciar un item existente
- ‚úÖ **Validaci√≥n de duplicados**: Un item no puede estar dos veces en la misma tier list (HTTP 409)
- ‚úÖ Ordenamiento autom√°tico por rank y posici√≥n

**L√≥gica de Negocio:**
```javascript
// Al listar items, se ordenan autom√°ticamente:
ORDER BY rank ASC, position ASC
// Resultado: S1, S2, A1, A2, B1, C1, D1...
```

---

### 4.5 Sistema de Usuarios

**Descripci√≥n:** Gesti√≥n de cuentas de usuario con autenticaci√≥n b√°sica.

**Operaciones:**
- **REGISTER**: Crear nueva cuenta con validaci√≥n de unicidad
- **READ**: Listar usuarios del sistema

**Endpoint API:** `/api/users`

**M√©todos HTTP:**
```http
POST   /api/users/register    # Registrar nuevo usuario
GET    /api/users              # Listar usuarios (admin)
```

**Validaciones:**
- ‚úÖ Campos `username`, `email`, `password` son obligatorios
- ‚úÖ `username` debe ser √∫nico en el sistema
- ‚úÖ `email` debe ser √∫nico en el sistema
- ‚úÖ `role` por defecto es 'user' si no se especifica

**Nota de Seguridad:**
En la versi√≥n actual, las contrase√±as se almacenan en texto plano para simplificar la demostraci√≥n. En producci√≥n, se debe implementar hashing con bcrypt.

---

### 4.6 Validaciones del Sistema

#### Validaciones de Integridad
- ‚úÖ Validaci√≥n de campos requeridos (HTTP 400)
- ‚úÖ Validaci√≥n de existencia de relaciones (HTTP 404)
- ‚úÖ Validaci√≥n de duplicados (HTTP 409)
- ‚úÖ Conversi√≥n correcta de tipos de datos
- ‚úÖ Validaci√≥n de valores enum (ranks v√°lidos)

#### Manejo de Errores HTTP
| C√≥digo | Significado | Casos de Uso |
|--------|-------------|--------------|
| **400** | Bad Request | Campos requeridos faltantes, formato inv√°lido |
| **404** | Not Found | Recurso no existe (user, game, item, tierlist) |
| **409** | Conflict | Duplicados (username, item en tierlist) |
| **201** | Created | Recurso creado exitosamente |
| **204** | No Content | Recurso eliminado exitosamente |

---

## 5. üóÑÔ∏è Estructura de Base de Datos (Normalizada 3NF)

### 5.1 Diagrama Entidad-Relaci√≥n (ER)

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ       Users         ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ PK  id              ‚îÇ
‚îÇ     username UNIQUE ‚îÇ‚óÑ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ     email UNIQUE    ‚îÇ      ‚îÇ
‚îÇ     passwordHash    ‚îÇ      ‚îÇ
‚îÇ     role            ‚îÇ      ‚îÇ
‚îÇ     createdAt       ‚îÇ      ‚îÇ
‚îÇ     updatedAt       ‚îÇ      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò      ‚îÇ
                             ‚îÇ
                             ‚îÇ  1:N (Un usuario, muchas tier lists)
                             ‚îÇ
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê      ‚îÇ      ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ       Games         ‚îÇ      ‚îÇ      ‚îÇ     TierLists       ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§      ‚îÇ      ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ PK  id              ‚îÇ‚óÑ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§ PK  id              ‚îÇ
‚îÇ     name            ‚îÇ      ‚îÇ      ‚îÇ     title           ‚îÇ
‚îÇ     description     ‚îÇ      ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§ FK  userId          ‚îÇ
‚îÇ     createdAt       ‚îÇ             ‚îÇ FK  gameId          ‚îÇ
‚îÇ     updatedAt       ‚îÇ             ‚îÇ     description     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò             ‚îÇ     isPublic        ‚îÇ
                                    ‚îÇ     createdAt       ‚îÇ
       1:N (Un juego,               ‚îÇ     updatedAt       ‚îÇ
       muchas tier lists)           ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                            ‚ñ≤
                                            ‚îÇ
                                            ‚îÇ  N:M (resuelto con tabla intermedia)
                                            ‚îÇ
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                    ‚îÇ
‚îÇ       Items         ‚îÇ‚óÑ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§                    ‚îÇ           ‚îÇ
‚îÇ PK  id              ‚îÇ                    ‚îÇ           ‚îÇ
‚îÇ     name            ‚îÇ            ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ     description     ‚îÇ            ‚îÇ    TierListItems        ‚îÇ
‚îÇ     imageUrl        ‚îÇ            ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ     createdAt       ‚îÇ            ‚îÇ PK  id                  ‚îÇ
‚îÇ     updatedAt       ‚îÇ            ‚îÇ FK  tierListId          ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò            ‚îÇ FK  itemId              ‚îÇ
                                   ‚îÇ     rank (S/A/B/C/D)    ‚îÇ
       1:N (Un item puede          ‚îÇ     position            ‚îÇ
       estar en m√∫ltiples          ‚îÇ     createdAt           ‚îÇ
       tier lists)                 ‚îÇ     updatedAt           ‚îÇ
                                   ‚îÇ UNIQUE(tierListId,      ‚îÇ
                                   ‚îÇ        itemId)          ‚îÇ
                                   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

### 5.2 Definici√≥n de Tablas

#### Tabla 1: **Users**

```sql
CREATE TABLE Users (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  username VARCHAR(255) UNIQUE NOT NULL,
  email VARCHAR(255) UNIQUE NOT NULL,
  passwordHash VARCHAR(255) NOT NULL,
  role VARCHAR(10) DEFAULT 'user' CHECK(role IN ('user', 'admin')),
  createdAt DATETIME DEFAULT CURRENT_TIMESTAMP,
  updatedAt DATETIME DEFAULT CURRENT_TIMESTAMP
);
```

**Prop√≥sito:** Almacenar informaci√≥n de usuarios del sistema con control de acceso basado en roles.

**Columnas:**
| Columna | Tipo | Constraints | Descripci√≥n |
|---------|------|-------------|-------------|
| `id` | INTEGER | PRIMARY KEY, AUTOINCREMENT | Identificador √∫nico del usuario |
| `username` | VARCHAR(255) | UNIQUE, NOT NULL | Nombre de usuario √∫nico |
| `email` | VARCHAR(255) | UNIQUE, NOT NULL | Correo electr√≥nico √∫nico |
| `passwordHash` | VARCHAR(255) | NOT NULL | Hash de la contrase√±a (bcrypt en producci√≥n) |
| `role` | VARCHAR(10) | DEFAULT 'user' | Rol del usuario (user/admin) |
| `createdAt` | DATETIME | DEFAULT NOW() | Fecha de creaci√≥n |
| `updatedAt` | DATETIME | DEFAULT NOW() | Fecha de √∫ltima actualizaci√≥n |

**Justificaci√≥n 3NF:**
- ‚úÖ Cada atributo depende √∫nicamente de la clave primaria `id`
- ‚úÖ No hay dependencias transitivas
- ‚úÖ `username` y `email` tienen constraints UNIQUE para garantizar integridad
- ‚úÖ No hay redundancia de datos

---

#### Tabla 2: **Games**

```sql
CREATE TABLE Games (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  name VARCHAR(255) NOT NULL,
  description TEXT,
  createdAt DATETIME DEFAULT CURRENT_TIMESTAMP,
  updatedAt DATETIME DEFAULT CURRENT_TIMESTAMP
);
```

**Prop√≥sito:** Cat√°logo de videojuegos disponibles en el sistema.

**Columnas:**
| Columna | Tipo | Constraints | Descripci√≥n |
|---------|------|-------------|-------------|
| `id` | INTEGER | PRIMARY KEY, AUTOINCREMENT | Identificador √∫nico del juego |
| `name` | VARCHAR(255) | NOT NULL | Nombre del videojuego |
| `description` | TEXT | NULLABLE | Descripci√≥n opcional del juego |
| `createdAt` | DATETIME | DEFAULT NOW() | Fecha de creaci√≥n |
| `updatedAt` | DATETIME | DEFAULT NOW() | Fecha de √∫ltima actualizaci√≥n |

**Justificaci√≥n 3NF:**
- ‚úÖ Entidad independiente sin dependencias de otras tablas
- ‚úÖ Almacena solo informaci√≥n intr√≠nseca del juego
- ‚úÖ No hay atributos multivaluados

---

#### Tabla 3: **Items**

```sql
CREATE TABLE Items (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  name VARCHAR(255) NOT NULL,
  description TEXT,
  imageUrl VARCHAR(500),
  createdAt DATETIME DEFAULT CURRENT_TIMESTAMP,
  updatedAt DATETIME DEFAULT CURRENT_TIMESTAMP
);
```

**Prop√≥sito:** Cat√°logo de elementos que pueden ser rankeados (armas, personajes, habilidades, etc.).

**Columnas:**
| Columna | Tipo | Constraints | Descripci√≥n |
|---------|------|-------------|-------------|
| `id` | INTEGER | PRIMARY KEY, AUTOINCREMENT | Identificador √∫nico del item |
| `name` | VARCHAR(255) | NOT NULL | Nombre del elemento |
| `description` | TEXT | NULLABLE | Descripci√≥n detallada |
| `imageUrl` | VARCHAR(500) | NULLABLE | URL de imagen del item |
| `createdAt` | DATETIME | DEFAULT NOW() | Fecha de creaci√≥n |
| `updatedAt` | DATETIME | DEFAULT NOW() | Fecha de √∫ltima actualizaci√≥n |

**Justificaci√≥n 3NF:**
- ‚úÖ Items son independientes de juegos espec√≠ficos (pueden ser reutilizables)
- ‚úÖ No hay redundancia de datos
- ‚úÖ Dise√±o permite flexibilidad para asociar items a m√∫ltiples tier lists

**Nota de Dise√±o:** Los items no tienen foreign key a `Games` para permitir reutilizaci√≥n. Un item "Espada" podr√≠a aparecer en tier lists de diferentes juegos.

---

#### Tabla 4: **TierLists**

```sql
CREATE TABLE TierLists (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  title VARCHAR(255) NOT NULL,
  description TEXT,
  isPublic BOOLEAN DEFAULT TRUE,
  userId INTEGER NOT NULL,
  gameId INTEGER NOT NULL,
  createdAt DATETIME DEFAULT CURRENT_TIMESTAMP,
  updatedAt DATETIME DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (userId) REFERENCES Users(id) ON DELETE CASCADE,
  FOREIGN KEY (gameId) REFERENCES Games(id) ON DELETE CASCADE
);
```

**Prop√≥sito:** Almacenar las listas de ranking creadas por usuarios.

**Columnas:**
| Columna | Tipo | Constraints | Descripci√≥n |
|---------|------|-------------|-------------|
| `id` | INTEGER | PRIMARY KEY, AUTOINCREMENT | Identificador √∫nico de la tier list |
| `title` | VARCHAR(255) | NOT NULL | T√≠tulo de la tier list |
| `description` | TEXT | NULLABLE | Descripci√≥n opcional |
| `isPublic` | BOOLEAN | DEFAULT TRUE | Visibilidad p√∫blica/privada |
| `userId` | INTEGER | NOT NULL, FK | Usuario propietario |
| `gameId` | INTEGER | NOT NULL, FK | Juego asociado |
| `createdAt` | DATETIME | DEFAULT NOW() | Fecha de creaci√≥n |
| `updatedAt` | DATETIME | DEFAULT NOW() | Fecha de √∫ltima actualizaci√≥n |

**Relaciones:**
- `userId` ‚Üí `Users.id` (ON DELETE CASCADE): Si se elimina el usuario, se eliminan sus tier lists
- `gameId` ‚Üí `Games.id` (ON DELETE CASCADE): Si se elimina el juego, se eliminan las tier lists asociadas

**Justificaci√≥n 3NF:**
- ‚úÖ Cada tier list pertenece a un usuario y un juego (relaciones 1:N)
- ‚úÖ No hay atributos derivados o calculados
- ‚úÖ Las foreign keys garantizan integridad referencial
- ‚úÖ ON DELETE CASCADE mantiene consistencia autom√°tica

---

#### Tabla 5: **TierListItems**

```sql
CREATE TABLE TierListItems (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  tierListId INTEGER NOT NULL,
  itemId INTEGER NOT NULL,
  rank VARCHAR(1) NOT NULL CHECK(rank IN ('S', 'A', 'B', 'C', 'D')),
  position INTEGER NOT NULL,
  createdAt DATETIME DEFAULT CURRENT_TIMESTAMP,
  updatedAt DATETIME DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (tierListId) REFERENCES TierLists(id) ON DELETE CASCADE,
  FOREIGN KEY (itemId) REFERENCES Items(id) ON DELETE CASCADE,
  UNIQUE (tierListId, itemId)
);
```

**Prop√≥sito:** Tabla de asociaci√≥n que resuelve la relaci√≥n N:M entre TierLists e Items, con datos adicionales de ranking.

**Columnas:**
| Columna | Tipo | Constraints | Descripci√≥n |
|---------|------|-------------|-------------|
| `id` | INTEGER | PRIMARY KEY, AUTOINCREMENT | Identificador √∫nico |
| `tierListId` | INTEGER | NOT NULL, FK | Tier list contenedora |
| `itemId` | INTEGER | NOT NULL, FK | Item rankeado |
| `rank` | VARCHAR(1) | NOT NULL, CHECK | Categor√≠a de ranking (S/A/B/C/D) |
| `position` | INTEGER | NOT NULL | Posici√≥n dentro del rank |
| `createdAt` | DATETIME | DEFAULT NOW() | Fecha de creaci√≥n |
| `updatedAt` | DATETIME | DEFAULT NOW() | Fecha de √∫ltima actualizaci√≥n |

**Constraints Especiales:**
- `UNIQUE (tierListId, itemId)`: **Previene duplicados** - Un item no puede estar dos veces en la misma tier list
- `CHECK(rank IN ('S', 'A', 'B', 'C', 'D'))`: **Validaci√≥n de enum** - Solo permite ranks v√°lidos

**Relaciones:**
- `tierListId` ‚Üí `TierLists.id` (ON DELETE CASCADE)
- `itemId` ‚Üí `Items.id` (ON DELETE CASCADE)

**Justificaci√≥n 3NF:**
- ‚úÖ Resuelve correctamente la relaci√≥n N:M entre TierLists e Items
- ‚úÖ `rank` y `position` son atributos de la **relaci√≥n**, no de las entidades
- ‚úÖ El constraint UNIQUE previene inconsistencias
- ‚úÖ No hay redundancia - cada combinaci√≥n (tierList, item) existe una sola vez

**Ejemplo de Datos:**
```
| id | tierListId | itemId | rank | position |
|----|------------|--------|------|----------|
| 1  | 1          | 5      | S    | 1        |
| 2  | 1          | 3      | S    | 2        |
| 3  | 1          | 7      | A    | 1        |
| 4  | 1          | 2      | B    | 1        |
```

---

### 5.3 Relaciones Entre Tablas

#### Relaci√≥n 1: Users ‚Üí TierLists (1:N)
```
Un usuario puede crear m√∫ltiples tier lists
Una tier list pertenece a un solo usuario
```

**Implementaci√≥n:**
- Foreign Key: `TierLists.userId` ‚Üí `Users.id`
- Cardinalidad: 1:N (uno a muchos)
- Eliminaci√≥n: CASCADE (eliminar usuario elimina sus tier lists)

**Query de Ejemplo:**
```sql
-- Obtener todas las tier lists de un usuario
SELECT * FROM TierLists WHERE userId = 1;
```

---

#### Relaci√≥n 2: Games ‚Üí TierLists (1:N)
```
Un juego puede tener m√∫ltiples tier lists
Una tier list est√° asociada a un solo juego
```

**Implementaci√≥n:**
- Foreign Key: `TierLists.gameId` ‚Üí `Games.id`
- Cardinalidad: 1:N (uno a muchos)
- Eliminaci√≥n: CASCADE (eliminar juego elimina tier lists asociadas)

**Query de Ejemplo:**
```sql
-- Obtener todas las tier lists de un juego
SELECT * FROM TierLists WHERE gameId = 2;
```

---

#### Relaci√≥n 3: TierLists ‚Üî Items (N:M mediante TierListItems)
```
Una tier list puede contener m√∫ltiples items
Un item puede estar en m√∫ltiples tier lists
```

**Implementaci√≥n:**
- Tabla intermedia: `TierListItems`
- Foreign Keys:
  - `TierListItems.tierListId` ‚Üí `TierLists.id`
  - `TierListItems.itemId` ‚Üí `Items.id`
- Cardinalidad: N:M (muchos a muchos)
- Datos adicionales: `rank`, `position` (espec√≠ficos de cada relaci√≥n)

**Query de Ejemplo:**
```sql
-- Obtener todos los items de una tier list con sus ranks
SELECT 
  Items.*,
  TierListItems.rank,
  TierListItems.position
FROM TierListItems
JOIN Items ON TierListItems.itemId = Items.id
WHERE TierListItems.tierListId = 1
ORDER BY TierListItems.rank ASC, TierListItems.position ASC;
```

---

### 5.4 √çndices y Optimizaci√≥n

**√çndices Autom√°ticos (Creados por Sequelize):**
```sql
-- Primary Keys (√≠ndices autom√°ticos)
CREATE INDEX idx_users_pk ON Users(id);
CREATE INDEX idx_games_pk ON Games(id);
CREATE INDEX idx_items_pk ON Items(id);
CREATE INDEX idx_tierlists_pk ON TierLists(id);
CREATE INDEX idx_tierlistitems_pk ON TierListItems(id);

-- Foreign Keys (√≠ndices autom√°ticos)
CREATE INDEX idx_tierlists_userId ON TierLists(userId);
CREATE INDEX idx_tierlists_gameId ON TierLists(gameId);
CREATE INDEX idx_tierlistitems_tierListId ON TierListItems(tierListId);
CREATE INDEX idx_tierlistitems_itemId ON TierListItems(itemId);

-- Unique Constraints (√≠ndices autom√°ticos)
CREATE UNIQUE INDEX idx_users_username ON Users(username);
CREATE UNIQUE INDEX idx_users_email ON Users(email);
CREATE UNIQUE INDEX idx_tierlistitems_unique ON TierListItems(tierListId, itemId);
```

**Beneficios:**
- ‚úÖ Queries r√°pidas en JOINs
- ‚úÖ B√∫squedas eficientes por FK
- ‚úÖ Validaci√≥n r√°pida de unicidad

---

### 5.5 Integridad Referencial

#### Reglas de Eliminaci√≥n (ON DELETE CASCADE)

| Acci√≥n | Efecto en Cadena |
|--------|------------------|
| Eliminar `User` | ‚Üí Elimina todas sus `TierLists` ‚Üí Elimina todos los `TierListItems` asociados |
| Eliminar `Game` | ‚Üí Elimina todas sus `TierLists` ‚Üí Elimina todos los `TierListItems` asociados |
| Eliminar `TierList` | ‚Üí Elimina todos sus `TierListItems` |
| Eliminar `Item` | ‚Üí Elimina todos los `TierListItems` que lo referencian |

**Ejemplo de Cascada:**
```
DELETE FROM Users WHERE id = 1;
  ‚Üì
  Elimina TierLists(userId=1)
    ‚Üì
    Elimina TierListItems(tierListId=X)
```

---

### 5.6 Ventajas de Esta Arquitectura

#### ‚úÖ Normalizaci√≥n 3NF
- **Sin redundancia de datos**: Cada dato se almacena una sola vez
- **Consistencia garantizada**: No hay anomal√≠as de actualizaci√≥n
- **Integridad mantenida**: Foreign keys con CASCADE

#### ‚úÖ Escalabilidad
- F√°cil agregar nuevas entidades (ej: `Comments`, `Votes`, `Tags`)
- Estructura permite features futuras sin reestructuraci√≥n mayor
- Separaci√≥n clara de responsabilidades

#### ‚úÖ Flexibilidad
- Items reutilizables entre diferentes juegos/tier lists
- Tier lists pueden ser p√∫blicas o privadas
- F√°cil cambiar rankings sin afectar otras relaciones

#### ‚úÖ Performance
- √çndices en todas las foreign keys para JOINs r√°pidos
- Unique constraints previenen duplicados a nivel de BD
- Queries optimizadas con Sequelize ORM

#### ‚úÖ Mantenibilidad
- C√≥digo modular con modelos separados
- Relaciones claras y bien documentadas
- F√°cil debugging con estructura l√≥gica

---

## 6. üõ†Ô∏è Stack Tecnol√≥gico

### Backend
- **Node.js 18+**: Runtime de JavaScript en el servidor
- **Express 4.19**: Framework web minimalista y flexible
- **Sequelize 6.37**: ORM para abstracci√≥n de base de datos
- **SQLite 3**: Base de datos SQL embebida (sin servidor externo)
- **Jest 29**: Framework de testing con coverage
- **Supertest 6**: Testing de APIs HTTP
- **Concurrently**: Ejecuci√≥n paralela de m√∫ltiples comandos

### Frontend
- **React 18**: Librer√≠a UI con componentes declarativos
- **TypeScript 5**: Superset de JavaScript con tipado est√°tico
- **Vite 7**: Build tool ultra-r√°pido con HMR
- **CSS3 Moderno**: Estilos responsive sin frameworks

### DevOps & Tools
- **npm Scripts**: Automatizaci√≥n de tareas
- **Git**: Control de versiones (estructura Git-ready)
- **VS Code**: IDE recomendado con extensiones

---

## 7. üìä Testing y Calidad

### Suite de Pruebas Automatizadas

**Cobertura: 19 tests (100% passing)**

#### Tests de CRUD B√°sico
- ‚úÖ GET /api/games - Listar juegos
- ‚úÖ POST /api/games - Crear juego
- ‚úÖ GET /api/items - Listar items
- ‚úÖ POST /api/items - Crear item
- ‚úÖ GET /api/tierlists - Listar tier lists
- ‚úÖ POST /api/tierlists - Crear tier list
- ‚úÖ GET /api/tierlists/:id/items - Listar items de tier list
- ‚úÖ POST /api/tierlists/:id/items - Agregar item a tier list

#### Tests de Validaciones
- ‚úÖ 400 - Campos requeridos faltantes (games, items, tierlists)
- ‚úÖ 404 - Usuario no existe al crear tier list
- ‚úÖ 404 - Juego no existe al crear tier list
- ‚úÖ 404 - Tier list no existe al listar items
- ‚úÖ 404 - Item no existe al agregar a tier list
- ‚úÖ 400 - Rank inv√°lido (fuera de S/A/B/C/D)
- ‚úÖ 409 - Item duplicado en tier list

#### Tests de Operaciones
- ‚úÖ PUT /api/tierlists/:tierListId/items/:id - Actualizar rank
- ‚úÖ DELETE /api/tierlists/:tierListId/items/:id - Eliminar item

#### Tests de Relaciones
- ‚úÖ Verificaci√≥n de objetos anidados en respuestas
- ‚úÖ Validaci√≥n de estructura de datos serializada

### Comando para Ejecutar Tests
```bash
npm test
```

**Resultado Esperado:**
```
Test Suites: 1 passed, 1 total
Tests:       19 passed, 19 total
Snapshots:   0 total
Time:        ~1.3s
```

---

## 8. üöÄ Instalaci√≥n y Ejecuci√≥n

### Requisitos Previos
- Node.js 18+ (incluye npm)
- Sistema Operativo: Windows, macOS o Linux

### Instalaci√≥n R√°pida

```bash
# 1. Clonar o descargar el proyecto
cd tierlist

# 2. Instalar dependencias del backend
npm install

# 3. Instalar dependencias del frontend
cd client
npm install
cd ..

# 4. Inicializar base de datos con datos de ejemplo
npm run db:init

# 5. Iniciar aplicaci√≥n completa (backend + frontend)
npm run dev:all
```

### Acceso a la Aplicaci√≥n
- **Frontend UI**: http://localhost:5173
- **Backend API**: http://localhost:3000
- **Base de Datos**: `data/tierlist.db` (SQLite)

### Scripts Disponibles

```bash
npm run dev:all      # Inicia backend + frontend (modo desarrollo)
npm run start:all    # Inicia backend + frontend (modo producci√≥n)
npm start            # Solo backend (producci√≥n)
npm run dev          # Solo backend (desarrollo con hot-reload)
npm run client       # Solo frontend
npm test             # Ejecutar suite de pruebas (19 tests)
npm run db:init      # Reinicializar base de datos
npm run demo         # Script de demostraci√≥n
```

---

## 9. üì∏ Capturas de Pantalla (Descripciones)

### Pantalla 1: Gesti√≥n de Juegos
- Formulario para agregar nuevos juegos
- Lista de juegos disponibles con nombre y descripci√≥n
- Botones para editar/eliminar (funcionalidad admin)

### Pantalla 2: Gesti√≥n de Items
- Formulario para crear items con nombre, descripci√≥n e imagen URL
- Cat√°logo completo de items disponibles
- Vista previa de items con sus datos

### Pantalla 3: Tier Lists
- Formulario para crear tier list asociada a un juego
- Lista de tier lists existentes con bot√≥n "Ver tier list"
- Visualizaci√≥n de tier list con items organizados por ranks

### Pantalla 4: Tier List Interactiva
- Secci√≥n para agregar items a tier list seleccionada
- Selector de item del cat√°logo
- Selector de rank (S, A, B, C, D)
- Grid visual con items organizados por categor√≠as
- Dise√±o responsive con colores distintivos por rank

---

## 10. üéØ Conclusiones

### Logros del Proyecto

‚úÖ **Base de Datos Normalizada (3NF)**: Estructura sin redundancias con 5 tablas relacionadas correctamente

‚úÖ **API REST Completa**: 12 endpoints con validaciones robustas y manejo de errores

‚úÖ **Frontend Moderno**: Interfaz React con TypeScript y dise√±o responsive

‚úÖ **Testing Integral**: 19 tests automatizados cubriendo casos normales y edge cases

‚úÖ **Documentaci√≥n Completa**: README extenso con todos los detalles t√©cnicos

### Competencias Demostradas

| √Årea | Habilidades |
|------|-------------|
| **Backend** | Express, Sequelize ORM, API REST, Validaciones |
| **Frontend** | React, TypeScript, Hooks, Forms, State Management |
| **Database** | Dise√±o 3NF, Relaciones, Integridad Referencial, SQL |
| **Testing** | Jest, Supertest, Integration Tests, Validations |
| **DevOps** | npm Scripts, Concurrently, Hot-reload, Automation |
| **Best Practices** | C√≥digo modular, Documentaci√≥n, Control de errores |

### Posibles Extensiones Futuras

üîÆ **Autenticaci√≥n JWT**: Implementar login/logout con tokens
üîÆ **Hash de Passwords**: Usar bcrypt para seguridad
üîÆ **Sistema de Votos**: Permitir a usuarios votar tier lists
üîÆ **Comentarios**: Agregar sistema de comentarios en tier lists
üîÆ **Drag & Drop**: Interfaz para reordenar items arrastrando
üîÆ **Exportar Im√°genes**: Generar im√°genes PNG de tier lists
üîÆ **B√∫squeda y Filtros**: Buscar tier lists por juego/usuario
üîÆ **Perfil de Usuario**: P√°gina de perfil con estad√≠sticas
üîÆ **Dark Mode**: Tema oscuro para la UI
üîÆ **Internacionalizaci√≥n**: Soporte multi-idioma

---

## üìù Informaci√≥n del Proyecto

**Nombre:** Game Tier List Manager  
**Tipo:** Aplicaci√≥n Web Full-Stack  
**Prop√≥sito:** Portfolio / Demostraci√≥n de habilidades  
**Tecnolog√≠as Principales:** Node.js, React, TypeScript, Sequelize, SQLite  
**Fecha de Desarrollo:** Octubre 2025  
**Versi√≥n:** 1.0.0  
**Autor:** [Tu Nombre Aqu√≠]  
**Contacto:** [Tu Email Aqu√≠]  

---

## üìÑ Licencia

Este proyecto fue desarrollado con fines educativos y de demostraci√≥n de habilidades t√©cnicas para inclusi√≥n en portfolio profesional.

---

**FIN DEL DOCUMENTO**
